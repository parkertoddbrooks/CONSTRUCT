# CONSTRUCT Development API Reference

**Last Updated**: Tue Jul  1 22:21:05 PDT 2025
**Generated by**: update-architecture.sh

## Library Functions API

### common-patterns

Common Script Patterns Library for CONSTRUCT

#### `get_script_paths()`

Standard script directory resolution pattern

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
get_script_paths [parameters]
```

#### `find_shell_scripts()`

Common file finding pattern for shell scripts

**Parameters:**
- `$1` - search_dir

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
find_shell_scripts [parameters]
```

#### `safe_grep_count()`

Common grep pattern with error handling

**Parameters:**
- `$1` - pattern
- `$2` - file

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
safe_grep_count [parameters]
```

#### `find_shell_scripts_in()`

Common pattern: find shell scripts in directory

**Parameters:**
- `$1` - search_dir

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
find_shell_scripts_in [parameters]
```

#### `count_shell_scripts()`

Common pattern: count shell scripts

**Parameters:**
- `$1` - search_dir

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
count_shell_scripts [parameters]
```

#### `find_yaml_files_in()`

Common pattern: find yaml files  

**Parameters:**
- `$1` - search_dir

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
find_yaml_files_in [parameters]
```

#### `count_yaml_files()`

Common pattern: count yaml files

**Parameters:**
- `$1` - search_dir

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
count_yaml_files [parameters]
```

#### `create_temp_dir()`

Create and manage temporary directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
create_temp_dir [parameters]
```

#### `cleanup_temp_dir()`

Cleanup temporary directory

**Parameters:**
- `$1` - temp_dir

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
cleanup_temp_dir [parameters]
```

#### `create_structure_dirs()`

Standard structure directory creation

**Parameters:**
- `$1` - structure_dir

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
create_structure_dirs [parameters]
```

#### `archive_existing_files()`

Move existing files to old directory

**Parameters:**
- `$1` - structure_dir
- `$2` - pattern

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/common-patterns.sh"
archive_existing_files [parameters]
```

---

### file-analysis

File Analysis Library for CONSTRUCT

#### `find_swift_files()`

Find all Swift files in a directory

**Parameters:**
- `$1` - directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/file-analysis.sh"
find_swift_files [parameters]
```

#### `find_viewmodels()`

Extract ViewModels from Swift files

**Parameters:**
- `$1` - directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/file-analysis.sh"
find_viewmodels [parameters]
```

#### `find_views()`

Extract Views from Swift files

**Parameters:**
- `$1` - directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/file-analysis.sh"
find_views [parameters]
```

#### `find_services()`

Extract Services from Swift files

**Parameters:**
- `$1` - directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/file-analysis.sh"
find_services [parameters]
```

#### `find_hardcoded_values()`

Check for hardcoded values in Swift files

**Parameters:**
- `$1` - directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/file-analysis.sh"
find_hardcoded_values [parameters]
```

#### `check_mvvm_violations()`

Check for MVVM violations

**Parameters:**
- `$1` - directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/file-analysis.sh"
check_mvvm_violations [parameters]
```

#### `count_components()`

Count components by type

**Parameters:**
- `$1` - directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/file-analysis.sh"
count_components [parameters]
```

#### `find_design_tokens()`

Extract design tokens usage

**Parameters:**
- `$1` - directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/file-analysis.sh"
find_design_tokens [parameters]
```

#### `generate_architecture_summary()`

Generate architecture summary

**Parameters:**
- `$1` - directory
- `$2` - output_file

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/file-analysis.sh"
generate_architecture_summary [parameters]
```

#### `validate_mvvm_structure()`

Check if directory follows MVVM structure

**Parameters:**
- `$1` - directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/file-analysis.sh"
validate_mvvm_structure [parameters]
```

---

### template-utils

Template Utilities Library for CONSTRUCT

#### `get_construct_root()`

Get the CONSTRUCT root directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
get_construct_root [parameters]
```

#### `get_template_dir()`

Get path to template directory

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
get_template_dir [parameters]
```

#### `get_template_project_dir()`

Get the path to the template project structure

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
get_template_project_dir [parameters]
```

#### `detect_context()`

Detect if we're in a user project or template context

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
detect_context [parameters]
```

#### `get_project_context()`

Get project directories based on context

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
get_project_context [parameters]
```

#### `validate_template_structure()`

Validate template structure (for template development)

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
validate_template_structure [parameters]
```

#### `validate_user_project_structure()`

Validate user project structure (for actual user projects using dynamic detection)

**Parameters:**
- `$1` - project_root

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
validate_user_project_structure [parameters]
```

#### `validate_template_integrity()`

Main validation function that determines context and validates appropriately

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
validate_template_integrity [parameters]
```

#### `check_template_contamination()`

Check for template contamination (user-specific content in templates)

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
check_template_contamination [parameters]
```

#### `test_template_independence()`

Test template independence (ensure templates work standalone)

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
test_template_independence [parameters]
```

#### `get_template_scripts()`

Get available template scripts

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
get_template_scripts [parameters]
```

#### `get_template_script_count()`

Get template script count

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
get_template_script_count [parameters]
```

#### `validate_template_scripts()`

Validate template scripts have proper structure

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/template-utils.sh"
validate_template_scripts [parameters]
```

---

### validation

Validation Library for CONSTRUCT

#### `check_dependencies()`

Validate script has required dependencies

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/validation.sh"
check_dependencies [parameters]
```

#### `validate_directory()`

Validate directory exists and is readable

**Parameters:**
- `$1` - dir
- `$2` - description

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/validation.sh"
validate_directory [parameters]
```

#### `validate_file()`

Validate file exists and is readable

**Parameters:**
- `$1` - file
- `$2` - description

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/validation.sh"
validate_file [parameters]
```

#### `validate_script_syntax()`

Validate script syntax

**Parameters:**
- `$1` - script

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/validation.sh"
validate_script_syntax [parameters]
```

#### `validate_config_file()`

Validate configuration file format

**Parameters:**
- `$1` - config_file
- `$2` - format

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/validation.sh"
validate_config_file [parameters]
```

#### `validate_environment()`

Validate environment setup

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/validation.sh"
validate_environment [parameters]
```

#### `validate_project_structure()`

Validate project structure

**Parameters:**
- `$1` - project_dir
- `$2` - project_type

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/validation.sh"
validate_project_structure [parameters]
```

#### `generate_validation_report()`

Generate validation report

**Parameters:**
- `$1` - output_file
- `$2` - target_dir
- `$3` - project_type

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/validation.sh"
generate_validation_report [parameters]
```

#### `cleanup_on_exit()`

Exit handler for cleanup

**Usage:**
```bash
source "$CONSTRUCT_DEV/CONSTRUCT/lib/validation.sh"
cleanup_on_exit [parameters]
```

---

